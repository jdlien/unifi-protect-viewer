<!doctype html>
<html lang="en">
  <head>
    <title>UniFi Protect Viewer: Page Not Found</title>

    <link rel="stylesheet" href="../css/styles.css" />
  </head>

  <body>
    <main>
      <div class="logo">
        <img src="../img/512.png" alt="logo" />
      </div>

      <div>
        <h1 class="text-center heading">Error Loading URL</h1>
      </div>

      <p style="color: rgb(252, 85, 85); font-size: 16px; text-align: center">
        <span id="url"></span>
      </p>

      <p class="text-center">If the above URL is incorrect, reset your configuration and enter the correct address.</p>

      <div class="group">
        <button onclick="reset()">Reset Configuration</button>
      </div>
    </main>

    <script>
      // Define run function that's expected by preload.js
      async function run() {
        console.log('Index.html run function called')
        // This is a placeholder - simply display the URL if available
        const config = await window.electronAPI.config.load()
        document.getElementById('url').innerText = config?.url || ''
        return true
      }

      function reset() {
        window.electronAPI.reset()
        window.electronAPI.restart()
      }

      window.electronAPI.config.load().then((config) => {
        document.getElementById('url').innerText = config?.url || ''
      })
    </script>
  </body>
</html>
